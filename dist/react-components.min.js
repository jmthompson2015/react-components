!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).ReactComponent=t()}(this,(function(){"use strict";const e={},t=(e,t)=>({...e,...t});e.createButton=(e,s,a,r={})=>{const o=t(r,{key:s,className:a});return ReactDOMFactories.button(o,e)},e.createCell=(e,s,a,r={})=>{const o=t(r,{key:s,className:`dtc${a?` ${a}`:""}`});return ReactDOMFactories.div(o,e)},e.createFlexbox=(e,s,a,r={})=>{const o=t(r,{key:s,className:`flex${a?` ${a}`:""}`});return ReactDOMFactories.div(o,e)},e.createFlexboxWrap=(e,s,a,r={})=>{const o=t(r,{key:s,className:`flex flex-wrap${a?` ${a}`:""}`});return ReactDOMFactories.div(o,e)},e.createImg=(e,s,a,r={})=>{const o=t(r,{src:e,key:s,className:a});return ReactDOMFactories.img(o)},e.createRow=(e,s,a,r={})=>{const o=t(r,{key:s,className:`dt-row${a?` ${a}`:""}`});return ReactDOMFactories.div(o,e)},e.createSpan=(e,s,a,r={})=>{const o=t(r,{key:s,className:a});return ReactDOMFactories.span(o,e)},e.createTable=(e,s,a,r={})=>{const o=t(r,{key:s,className:`dt${a?` ${a}`:""}`});return ReactDOMFactories.div(o,e)};class s extends React.Component{constructor(e){super(e),this.state={isExpanded:e.isExpanded},this.toggleExpand=this.toggleExpandFunction.bind(this)}createElementCell(){const{element:e}=this.props,{isExpanded:t}=this.state,s=t?"dtc pa1 v-mid":"dn";return ReactDOMFactories.div({key:"elementCell",className:s},e)}createHeaderCell(){const{header:t,headerClass:s}=this.props,{isExpanded:a}=this.state,r=e.createCell(t,"headerCell",s),o=a?"▶":"▼",n=ReactDOMFactories.div({key:"expandCell",onClick:this.toggleExpand},o),i=e.createRow([r,n],"headerExpandRow"),c=e.createTable(i,"headerExpandTable","w-100");return e.createCell(c,"headerCell")}toggleExpandFunction(){const{isExpanded:e}=this.state;this.setState({isExpanded:!e})}render(){const{className:t}=this.props,s=this.createHeaderCell(),a=this.createElementCell(),r=[e.createRow(s,"headerRow"),e.createRow(a,"elementRow")];return e.createTable(r,"collapsiblePaneTable",t)}}s.propTypes={element:PropTypes.shape().isRequired,className:PropTypes.string,header:PropTypes.string,headerClass:PropTypes.string,isExpanded:PropTypes.bool},s.defaultProps={className:"bg-light-gray ma1",header:void 0,headerClass:"b f5 ph1 pt1 tc",isExpanded:!0};const a=(e,t)=>new Promise((s,a)=>{const r=new Image;r.addEventListener("load",()=>{t&&console.log(`Loaded image: ${e} ${r.width}x${r.height}`),s(r)}),r.addEventListener("error",e=>a(e)),r.src=e});class r extends React.PureComponent{constructor(e){super(e),this.state={imageMap:{}},this.handleOnClick=this.handleOnClickFunction.bind(this)}componentDidMount(){this.loadImages(),this.paint()}componentDidUpdate(){this.paint()}handleOnClickFunction(e){const{onClick:t}=this.props;t(e)}loadImages(){const{images:e,isVerbose:t}=this.props;for(let s=0;s<e.length;s+=1)a(e[s],t).then(t=>{const{imageMap:a}=this.state,r={...a};r[e[s]]=t,this.setState({imageMap:r})})}paint(){const{drawLayerFunctions:e,height:t,customKey:s,width:a}=this.props,{imageMap:r}=this.state,o=document.getElementById(s).getContext("2d");e.forEach(e=>{e(o,a,t,r)})}render(){const{backgroundColor:e,clientProps:t,customKey:s,height:a,title:r,width:o}=this.props,n={...{id:s,key:s,height:a,onClick:this.handleOnClick,style:{backgroundColor:e},title:r,width:o},...t};return ReactDOMFactories.canvas(n)}}r.propTypes={drawLayerFunctions:PropTypes.arrayOf(PropTypes.func).isRequired,backgroundColor:PropTypes.string,clientProps:PropTypes.shape(),customKey:PropTypes.string,height:PropTypes.number,images:PropTypes.arrayOf(PropTypes.string),isVerbose:PropTypes.bool,onClick:PropTypes.func,title:PropTypes.string,width:PropTypes.number},r.defaultProps={backgroundColor:void 0,clientProps:{},customKey:"hexBoardCanvas",height:480,images:[],isVerbose:!1,onClick:()=>{},title:void 0,width:640};class o extends React.Component{constructor(e){super(e);const{initialInput:t}=this.props;this.state={input:t}}render(){const{buttons:e,buttonsClass:t,icon:s,message:a,messageClass:r,panelClass:o,title:n,titleClass:i}=this.props,c=[],l=ReactDOMFactories.td({colSpan:2,className:i},n);c.push(ReactDOMFactories.tr({key:0},l));const p=ReactDOMFactories.td({key:0,rowSpan:2},s),d=ReactDOMFactories.td({key:1,className:r},a);c.push(ReactDOMFactories.tr({key:1},[p,d]));const{input:h}=this.state,m=ReactDOMFactories.td({},h);c.push(ReactDOMFactories.tr({key:2},m));const u=ReactDOMFactories.td({colSpan:2,className:t},e);return c.push(ReactDOMFactories.tr({key:3},u)),ReactDOMFactories.table({className:o},ReactDOMFactories.tbody({},c))}}o.propTypes={buttons:PropTypes.shape().isRequired,message:PropTypes.oneOfType([PropTypes.string,PropTypes.shape()]).isRequired,title:PropTypes.string.isRequired,buttonsClass:PropTypes.string,icon:PropTypes.shape(),initialInput:PropTypes.shape(),messageClass:PropTypes.string,panelClass:PropTypes.string,titleClass:PropTypes.string},o.defaultProps={buttonsClass:"pa2 tr",icon:void 0,initialInput:void 0,messageClass:"",panelClass:"ba center v-top",titleClass:"b bg-light-gray f4 tc"};class n extends React.Component{render(){const{className:t,element:s,elementClass:a,title:r,titleClass:o}=this.props,n=e.createCell(r,"titleCell",o),i=e.createCell(s,"elementCell",a),c=[e.createRow(n,"titleRow"),e.createRow(i,"elementRow")];return e.createTable(c,"titledElementTable",t)}}n.propTypes={element:PropTypes.shape().isRequired,title:PropTypes.string.isRequired,className:PropTypes.string,elementClass:PropTypes.string,titleClass:PropTypes.string},n.defaultProps={className:"bg-light-gray ma1",elementClass:"ma0 tc v-mid",titleClass:"b f5 ph1 pt1 tc"};const i={};return i.CollapsiblePane=s,i.LayeredCanvas=r,i.OptionPane=o,i.ReactUtilities=e,i.TitledElement=n,Object.freeze(i),i}));
