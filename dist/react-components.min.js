!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ReactComponent=t()}(this,(function(){"use strict";class e extends React.PureComponent{constructor(e){super(e),this.handleChange=this.handleChangeFunction.bind(this)}handleChangeFunction(e){const{item:t,onChange:s}=this.props,{checked:n}=e.target;s(t,n)}render(){const{item:e,isChecked:t,labelFunction:s}=this.props,n=ReactDOMFactories.input({key:`${e.key}${t}`,className:"mr1 v-mid",type:"checkbox",checked:t,onChange:this.handleChange}),a=s(e);return ReactDOMFactories.label({className:"db v-mid"},n,a)}}e.propTypes={item:PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.shape()]).isRequired,onChange:PropTypes.func.isRequired,isChecked:PropTypes.bool,labelFunction:PropTypes.func},e.defaultProps={isChecked:!1,labelFunction:e=>ReactDOMFactories.span({className:"v-mid"},e)};const t={},s=(e,t)=>({...e,...t});t.createButton=(e,t,n,a={})=>{const o=s(a,{key:t,className:n});return ReactDOMFactories.button(o,e)},t.createCell=(e,t,n,a={})=>{const o=s(a,{key:t,className:"dtc"+(n?` ${n}`:"")});return ReactDOMFactories.div(o,e)},t.createFlexbox=(e,t,n,a={})=>{const o=s(a,{key:t,className:"flex"+(n?` ${n}`:"")});return ReactDOMFactories.div(o,e)},t.createFlexboxWrap=(e,t,n,a={})=>{const o=s(a,{key:t,className:"flex flex-wrap"+(n?` ${n}`:"")});return ReactDOMFactories.div(o,e)},t.createImg=(e,t,n,a={})=>{const o=s(a,{src:e,key:t,className:n});return ReactDOMFactories.img(o)},t.createRow=(e,t,n,a={})=>{const o=s(a,{key:t,className:"dt-row"+(n?` ${n}`:"")});return ReactDOMFactories.div(o,e)},t.createSpan=(e,t,n,a={})=>{const o=s(a,{key:t,className:n});return ReactDOMFactories.span(o,e)},t.createTable=(e,t,n,a={})=>{const o=s(a,{key:t,className:"dt"+(n?` ${n}`:"")});return ReactDOMFactories.div(o,e)};class n extends React.Component{constructor(e){super(e);const{selectedItems:t}=this.props;this.state={selectedItems:t},this.handleApply=this.handleApplyFunction.bind(this),this.handleChange=this.handleChangeFunction.bind(this),this.handleSelectAll=this.handleSelectAllFunction.bind(this),this.handleSelectNone=this.handleSelectNoneFunction.bind(this)}handleApplyFunction(){const{applyOnClick:e}=this.props,{selectedItems:t}=this.state;e(t)}handleChangeFunction(e,t){const{applyOnClick:s,useApplyButton:n}=this.props,{selectedItems:a}=this.state;let o;o=t?[...a,e]:a.filter((t=>t!==e)),this.setState({selectedItems:o}),n||s(o)}handleSelectAllFunction(){const{applyOnClick:e,useApplyButton:t}=this.props,{items:s}=this.props;this.setState({selectedItems:s}),t||e(s)}handleSelectNoneFunction(){const{applyOnClick:e,useApplyButton:t}=this.props;this.setState({selectedItems:[]}),t||e([])}createButtonTable(){const{buttonLabel:e,useApplyButton:s,useSelectButtons:n}=this.props;let a=[];if(s){const s=t.createButton(e,"applyButton",void 0,{onClick:this.handleApply});a=[t.createCell(s,"applyCell")]}if(n){const e=t.createButton("Select All","selectAllButton",void 0,{onClick:this.handleSelectAll}),s=t.createButton("Select None","selectNoneButton",void 0,{onClick:this.handleSelectNone}),n=t.createCell(e,"selectAllCell"),o=t.createCell(s,"selectNoneCell");a=R.concat([n,o],a)}const o=t.createRow(a,"buttonRow");return t.createTable(o,"buttonTable","button-table")}render(){const{buttonPanelClass:s,className:n,customKey:a,inputPanelClass:o,items:i,keyFunction:l,labelFunction:r}=this.props,{selectedItems:p}=this.state,c=i.map((s=>{const n=p.includes(s),a=React.createElement(e,{item:s,isChecked:n,labelFunction:r,onChange:this.handleChange}),o=t.createCell(a);return t.createRow(o,l(s))})),u=t.createTable(c,"inputsTable","inputs-table"),h=ReactDOMFactories.div({className:"scroll-pane"},u),d=t.createCell(h,"inputsCell",o),y=t.createCell(this.createButtonTable(),"buttonPanelCell",s),m=[t.createRow(d,"inputRow","input-row"),t.createRow(y,"buttonRow","button-row")];return t.createTable(m,a,n)}}n.propTypes={applyOnClick:PropTypes.func.isRequired,items:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.shape()])).isRequired,buttonLabel:PropTypes.string,buttonPanelClass:PropTypes.string,className:PropTypes.string,customKey:PropTypes.string,inputPanelClass:PropTypes.string,keyFunction:PropTypes.func,labelFunction:PropTypes.func,selectedItems:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.shape()])),useApplyButton:PropTypes.bool,useSelectButtons:PropTypes.bool},n.defaultProps={buttonLabel:"Apply",buttonPanelClass:"fr pt1",className:void 0,customKey:"CheckboxPanel",inputPanelClass:"bg-white tl",keyFunction:e=>"object"==typeof e?JSON.stringify(e):e,labelFunction:void 0,selectedItems:[],useApplyButton:!1,useSelectButtons:!1};class a extends React.PureComponent{constructor(e){super(e),this.state={isExpanded:e.isExpanded},this.toggleExpand=this.toggleExpandFunction.bind(this)}createElementCell(){const{element:e,elementClass:t}=this.props,{isExpanded:s}=this.state,n=s?"dtc pa1 v-mid":"dn";return ReactDOMFactories.div({key:"elementCell",className:`${t} ${n}`},e)}createTitleCell(){const{title:e,titleClass:s}=this.props,{isExpanded:n}=this.state,a=t.createCell(e,"titleCell","v-mid"),o=n?"▼":"▶",i=t.createCell(o,"expandCell","dtc pr1 v-mid",{onClick:this.toggleExpand}),l=t.createSpan([i,a],"titleExpandTable");return t.createCell(l,"titleCell",s)}toggleExpandFunction(){const{isExpanded:e}=this.state;this.setState({isExpanded:!e})}render(){const{className:e}=this.props,s=this.createTitleCell(),n=this.createElementCell(),a=[t.createRow(s,"titleRow"),t.createRow(n,"elementRow")];return t.createTable(a,"collapsiblePaneTable",e)}}a.propTypes={element:PropTypes.shape().isRequired,title:PropTypes.string.isRequired,className:PropTypes.string,elementClass:PropTypes.string,isExpanded:PropTypes.bool,titleClass:PropTypes.string},a.defaultProps={className:"bg-light-gray ma1",elementClass:"ma0 tc v-mid",isExpanded:!1,titleClass:"b f5 ph1 pt1 tl"};class o extends React.PureComponent{render(){const{className:e,color:t,title:s}=this.props,n=`rgb(${t.r}, ${t.g}, ${t.b})`,a=`colorSwatch-${t.r},${t.g},${t.b}`;return ReactDOMFactories.div({key:a,className:e,style:{backgroundColor:n},title:s})}}o.propTypes={color:PropTypes.shape({r:PropTypes.number,g:PropTypes.number,b:PropTypes.number}).isRequired,className:PropTypes.string,title:PropTypes.string},o.defaultProps={className:"h-100 w-100",title:void 0};class i extends React.Component{constructor(e){super(e),this.state={imageMap:{}},this.handleOnClick=this.handleOnClickFunction.bind(this)}componentDidMount(){this.loadImages(),this.paint()}componentDidUpdate(){this.loadImages(),this.paint()}handleOnClickFunction(e){const{onClick:t}=this.props;t(e)}loadImages(){const{images:e,isVerbose:t}=this.props;if(!R.isEmpty(e)){const{imageMap:s}=this.state,n=e=>R.isNil(s[e]),a=R.filter(n,e);if(!R.isEmpty(a)){const e=e=>{((e,t)=>new Promise(((s,n)=>{const a=new Image;a.addEventListener("load",(()=>{t&&console.log(`Loaded image: ${e} ${a.width}x${a.height}`),s(a)})),a.addEventListener("error",(e=>n(e))),a.src=e})))(e,t).then((t=>{const{imageMap:s}=this.state,n={...s,[e]:t};this.setState({imageMap:n})}))};R.forEach(e,a)}}}paint(){const{drawLayerFunctions:e,height:t,customKey:s,width:n}=this.props,{imageMap:a}=this.state,o=document.getElementById(s).getContext("2d");e.forEach((e=>{e(o,n,t,a)}))}render(){const{backgroundColor:e,clientProps:t,customKey:s,height:n,title:a,width:o}=this.props,i={...{id:s,key:s,height:n,onClick:this.handleOnClick,style:{backgroundColor:e},title:a,width:o},...t};return ReactDOMFactories.canvas(i)}}i.propTypes={drawLayerFunctions:PropTypes.arrayOf(PropTypes.func).isRequired,backgroundColor:PropTypes.string,clientProps:PropTypes.shape(),customKey:PropTypes.string,height:PropTypes.number,images:PropTypes.arrayOf(PropTypes.string),isVerbose:PropTypes.bool,onClick:PropTypes.func,title:PropTypes.string,width:PropTypes.number},i.defaultProps={backgroundColor:void 0,clientProps:{},customKey:"hexBoardCanvas",height:480,images:[],isVerbose:!1,onClick:()=>{},title:void 0,width:640};class l extends React.PureComponent{constructor(e){super(e);const{initialValue:t}=this.props;this.state={value:t},this.handleBlur=this.handleBlurFunction.bind(this),this.handleChange=this.handleChangeFunction.bind(this)}handleBlurFunction(){const{onBlur:e}=this.props,{value:t}=this.state;e(Number(t))}handleChangeFunction(e){const{value:t}=e.target,s=Number(t);this.setState({value:s})}render(){const{className:e,id:t,initialValue:s,max:n,min:a,step:o}=this.props;return ReactDOMFactories.input({id:t,type:"number",className:e,defaultValue:s,max:n,min:a,step:o,onBlur:this.handleBlur,onChange:this.handleChange})}}l.propTypes={onBlur:PropTypes.func.isRequired,id:PropTypes.string,className:PropTypes.string,initialValue:PropTypes.number,max:PropTypes.number,min:PropTypes.number,step:PropTypes.number},l.defaultProps={id:"numberInput",className:void 0,initialValue:0,max:void 0,min:void 0,step:void 0};class r extends React.Component{constructor(e){super(e);const{initialInput:t}=this.props;this.state={input:t}}createButtonsCell(){const{buttons:e,buttonsClass:t}=this.props;return ReactDOMFactories.td({colSpan:2,className:t},e)}createInputCell(){const{inputClass:e}=this.props,{input:t}=this.state;return ReactDOMFactories.td({className:e},t)}createMessageCells(){const{icon:e,message:t,messageClass:s}=this.props;return[ReactDOMFactories.td({key:0,rowSpan:2},e),ReactDOMFactories.td({key:1,className:s},t)]}createTitleCell(){const{title:e,titleClass:t}=this.props;return ReactDOMFactories.td({colSpan:2,className:t},e)}render(){const{className:e}=this.props,t=this.createTitleCell(),s=this.createMessageCells(),n=this.createInputCell(),a=this.createButtonsCell(),o=[ReactDOMFactories.tr({key:"row0"},t),ReactDOMFactories.tr({key:"row1"},s),ReactDOMFactories.tr({key:"row2"},n),ReactDOMFactories.tr({key:"row3"},a)],i=ReactDOMFactories.tbody({},o);return ReactDOMFactories.table({className:e},i)}}r.propTypes={buttons:PropTypes.shape().isRequired,message:PropTypes.oneOfType([PropTypes.string,PropTypes.shape()]).isRequired,title:PropTypes.string.isRequired,buttonsClass:PropTypes.string,className:PropTypes.string,icon:PropTypes.shape(),initialInput:PropTypes.shape(),inputClass:PropTypes.string,messageClass:PropTypes.string,titleClass:PropTypes.string},r.defaultProps={buttonsClass:"pa2 tr",className:"ba bg-white center v-top",icon:void 0,initialInput:void 0,inputClass:void 0,messageClass:void 0,titleClass:"b bg-light-gray f4 tc"};class p extends React.PureComponent{constructor(e){super(e),this.handleChange=this.handleChangeFunction.bind(this)}handleChangeFunction(e){const{item:t,onChange:s}=this.props,{checked:n}=e.target;s(t,n)}render(){const{item:e,isChecked:t,labelFunction:s}=this.props,n=ReactDOMFactories.input({key:`${e.key}${t}`,className:"mr1 v-mid",type:"radio",checked:t,onChange:this.handleChange}),a=s(e);return ReactDOMFactories.label({className:"db v-mid"},n,a)}}p.propTypes={item:PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.shape()]).isRequired,onChange:PropTypes.func.isRequired,isChecked:PropTypes.bool,labelFunction:PropTypes.func},p.defaultProps={isChecked:!1,labelFunction:e=>ReactDOMFactories.span({className:"v-mid"},e)};class c extends React.Component{constructor(e){super(e);const{items:t,selectedItem:s}=this.props,n=s||R.head(t);this.state={selectedItem:n},this.handleApply=this.handleApplyFunction.bind(this),this.handleChange=this.handleChangeFunction.bind(this)}handleApplyFunction(){const{applyOnClick:e}=this.props,{selectedItem:t}=this.state;e(t)}handleChangeFunction(e){this.setState({selectedItem:e})}createButtonTable(){const{buttonLabel:e}=this.props,s=t.createButton(e,"applyButton",void 0,{onClick:this.handleApply}),n=t.createCell(s,"applyCell"),a=t.createRow(n,"buttonRow");return t.createTable(a,"buttonTable","button-table")}render(){const{buttonPanelClass:e,className:s,customKey:n,inputPanelClass:a,items:o,keyFunction:i,labelFunction:l}=this.props,{selectedItem:r}=this.state,c=i(r),u=o.map((e=>{const s=r===e||c===i(e),n=React.createElement(p,{item:e,isChecked:s,labelFunction:l,onChange:this.handleChange}),a=t.createCell(n);return t.createRow(a,i(e))})),h=t.createTable(u,"inputsTable","inputs-table"),d=ReactDOMFactories.div({className:"scroll-pane"},h),y=t.createCell(d,"inputsCell",a),m=t.createCell(this.createButtonTable(),"buttonPanelCell",e),C=[t.createRow(y,"inputRow","input-row"),t.createRow(m,"buttonRow","button-row")];return t.createTable(C,n,s)}}c.propTypes={applyOnClick:PropTypes.func.isRequired,items:PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.shape()])).isRequired,buttonLabel:PropTypes.string,buttonPanelClass:PropTypes.string,className:PropTypes.string,customKey:PropTypes.string,inputPanelClass:PropTypes.string,keyFunction:PropTypes.func,labelFunction:PropTypes.func,selectedItem:PropTypes.oneOfType([PropTypes.string,PropTypes.number,PropTypes.shape()])},c.defaultProps={buttonLabel:"Apply",buttonPanelClass:"fr pt1",className:void 0,customKey:"RadioButtonPanel",inputPanelClass:"bg-white tl",keyFunction:e=>"object"==typeof e?JSON.stringify(e):e,labelFunction:void 0,selectedItem:void 0};class u extends React.PureComponent{constructor(e){super(e),this.handleChange=this.handleChangeFunction.bind(this)}handleChangeFunction(){const{id:e,onChange:t}=this.props,s=document.getElementById(e);t(s.options[s.selectedIndex].value)}render(){const{attributes:e,id:t,initialValue:s,values:n}=this.props,a=R.pipe(R.assoc("id",t),R.assoc("defaultValue",s),R.assoc("onChange",this.handleChange))(e),o=R.map((e=>{return t=e.key,s=e.label,ReactDOMFactories.option({key:t,value:t},s);var t,s}),n);return ReactDOMFactories.select(a,o)}}u.propTypes={values:PropTypes.arrayOf(PropTypes.shape({key:PropTypes.string.isRequired,label:PropTypes.string.isRequired})).isRequired,onChange:PropTypes.func.isRequired,attributes:PropTypes.shape(),id:PropTypes.string,initialValue:PropTypes.string},u.defaultProps={attributes:{},id:"select",initialValue:void 0};class h extends React.PureComponent{constructor(e){super(e);const{initialValue:t}=this.props;this.state={value:t},this.handleBlur=this.handleBlurFunction.bind(this),this.handleChange=this.handleChangeFunction.bind(this)}handleBlurFunction(){const{onBlur:e}=this.props,{value:t}=this.state;e(t)}handleChangeFunction(e){const{value:t}=e.target;this.setState({value:t})}render(){const{className:e,id:t,initialValue:s}=this.props;return ReactDOMFactories.input({id:t,type:"text",className:e,defaultValue:s,onBlur:this.handleBlur,onChange:this.handleChange})}}h.propTypes={onBlur:PropTypes.func.isRequired,id:PropTypes.string,className:PropTypes.string,initialValue:PropTypes.string},h.defaultProps={id:"stringInput",className:void 0,initialValue:""};class d extends React.PureComponent{createTitleCell(){const{title:e,titleClass:s}=this.props;return t.createCell(e,"titleCell",s)}createElementCell(){const{element:e,elementClass:s}=this.props;return t.createCell(e,"elementCell",s)}render(){const{className:e,customKey:s}=this.props,n=this.createTitleCell(),a=this.createElementCell(),o=[t.createRow(n,"titleRow"),t.createRow(a,"elementRow")];return t.createTable(o,s,e)}}d.propTypes={element:PropTypes.shape().isRequired,title:PropTypes.string.isRequired,className:PropTypes.string,customKey:PropTypes.string,elementClass:PropTypes.string,titleClass:PropTypes.string},d.defaultProps={className:"bg-light-gray ma1",customKey:"TitledElement",elementClass:"ma0 tc v-mid",titleClass:"b f5 ph1 pt1 tc"};const y={};return y.CheckboxPanel=n,y.CollapsiblePane=a,y.ColorSwatch=o,y.LayeredCanvas=i,y.NumberInput=l,y.OptionPane=r,y.RadioButtonPanel=c,y.ReactUtilities=t,y.Select=u,y.StringInput=h,y.TitledElement=d,Object.freeze(y),y}));
